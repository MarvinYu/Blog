<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://gmpg.org/xfn/11">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>CRDTs: The Hard Parts &mdash; Martin Kleppmann&rsquo;s talks</title>
    <link rel="stylesheet" type="text/css" media="screen, print, handheld" href="/css/typography.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/style.css" />
<link rel="stylesheet" type="text/css" media="all" href="/css/pygments-default.css" />
<link rel="stylesheet" type="text/css" media="all" href="/css/ansi2html.css" />
<link rel="stylesheet" type="text/css" media="all" href="/css/customizations.css?5" />
<!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/ie.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/martinkl?format=xml" title="Martin Kleppmann's blog" />
<script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>

</head>

<body class="wordpress">
    <div id="page">
        <p id="top">
    <a id="to-content" href="#content" title="Skip to content">Skip to content</a>
</p>

<div id="header">
    <div class="wrapper">
        <strong id="blog-title">
            <a href="/" title="Home" rel="home">Martin Kleppmann</a>
        </strong>
    </div>
</div>

<div id="sub-header">
    <div class="wrapper">
        <div id="navigation">
            <ul>
                <li class="page_item"><a href="/contact.html" title="About/Contact">About/Contact</a></li>
            </ul>
        </div>
    </div>
</div>

<hr class="divider">


        <div class="wrapper">
            <div id="content">
                <a class="twitter-share-button" href="https://twitter.com/share" data-text="CRDTs: The Hard Parts"
                    data-via="martinkl" data-related="martinkl" data-size="large" data-count="none">Tweet</a>

                <h1>CRDTs: The Hard Parts</h1>

                <p>
                  A talk at
                  
                    <a href="https://hydraconf.com/2020/msk/talks/3mkcfa5h151ekfvfqau4qk/">Hydra distributed computing conference</a>,
                  
                  online (originally planned to be in Moscow, Russia), 06 Jul 2020
                </p>

                <ul>
                  
                  
                    <li><a href="https://speakerdeck.com/ept/crdts-the-hard-parts">Slides</a></li>
                  
                  
                    <li><a href="https://www.youtube.com/watch?v=PMVBuMK_pJY">Video</a></li>
                  
                  
                </ul>

                <ul>
  <li><a href="https://www.youtube.com/watch?v=x7drE24geUw">Alternative video recording</a></li>
  <li><a href="https://news.ycombinator.com/item?id=23802208">Hacker News discussion</a></li>
</ul>

<iframe width="550" height="315" src="https://www.youtube-nocookie.com/embed/x7drE24geUw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<script async="" class="speakerdeck-embed" data-id="71c432e2f3004c6e991bed35810cecfe" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>

<h2 id="abstract">Abstract</h2>

<p>Conflict-free Replicated Data Types (CRDTs) are an increasingly popular family of algorithms for
optimistic replication. They allow data to be concurrently updated on several replicas, even while
those replicas are offline, and provide a robust way of merging those updates back into a consistent
state. CRDTs are used in geo-replicated databases, multi-user collaboration software, distributed
processing frameworks, and various other systems.</p>

<p>However, while the basic principles of CRDTs are now quite well known, many challenging problems are
lurking below the surface. It turns out that CRDTs are easy to implement badly. Many published
algorithms have anomalies that cause them to behave strangely in some situations. Simple
implementations often have terrible performance, and making the performance good is challenging.</p>

<p>In this talk Martin goes beyond the introductory material on CRDTs, and discusses some of the
hard-won lessons from years of research on making CRDTs work in practice.</p>

<h2 id="references">References</h2>

<ul>
  <li><strong>Logoot:</strong> Stéphane Weiss, Pascal Urso, and Pascal Molli:
“<a href="http://pagesperso.lina.univ-nantes.fr/~molli-p/pmwiki/uploads/Main/weiss09.pdf">Logoot: A Scalable Optimistic Replication Algorithm for Collaborative Editing on P2P Networks</a>,” ICDCS 2009.</li>
  <li><strong>LSEQ:</strong> Brice Nédelec, Pascal Molli, Achour Mostefaoui, and Emmanuel Desmontils:
“<a href="https://hal.archives-ouvertes.fr/file/index/docid/921633/filename/fp025-nedelec.pdf">LSEQ: an Adaptive Structure for Sequences in Distributed Collaborative Editing</a>,” DocEng 2013.</li>
  <li><strong>RGA:</strong> Hyun-Gul Roh, Myeongjae Jeon, Jin-Soo Kim, and Joonwon Lee:
“<a href="http://csl.skku.edu/papers/jpdc11.pdf">Replicated abstract data types: Building blocks for collaborative applications</a>,”
Journal of Parallel and Distributed Computing, 71(3):354–368, 2011.</li>
  <li><strong>Treedoc:</strong> Nuno Preguiça, Joan Manuel Marques, Marc Shapiro, and Mihai Letia:
“<a href="https://hal.inria.fr/inria-00445975/document">A Commutative Replicated Data Type for Cooperative Editing</a>,” ICDCS 2009.</li>
  <li><strong>WOOT:</strong> Gérald Oster, Pascal Urso, Pascal Molli, and Abdessamad Imine:
“<a href="https://hal.archives-ouvertes.fr/file/index/docid/108523/filename/OsterCSCW06.pdf">Data consistency for P2P collaborative editing</a>,” CSCW 2006.</li>
  <li><strong>A<sub>strong</sub>:</strong> Hagit Attiya, Sebastian Burckhardt, Alexey Gotsman, Adam Morrison, Hongseok Yang, and Marek Zawirski:
“<a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/07/podc16-complete.pdf">Specification and Complexity of Collaborative Text Editing</a>,” PODC 2016.</li>
  <li><strong>Interleaving anomaly:</strong> Martin Kleppmann, Victor B. F. Gomes, Dominic P. Mulligan, and Alastair R. Beresford:
“<a href="/papers/interleaving-papoc19.pdf">Interleaving anomalies in collaborative text editors</a>”. PaPoC 2019.</li>
  <li><strong>Proof of no interleaving in RGA:</strong> Martin Kleppmann, Victor B F Gomes, Dominic P Mulligan, and Alastair R Beresford:
“<a href="https://arxiv.org/abs/1805.04263">OpSets: Sequential Specifications for Replicated Datatypes</a>,” May 2018.</li>
  <li><strong>Moving list items:</strong> Martin Kleppmann:
“<a href="/papers/list-move-papoc20.pdf">Moving Elements in List CRDTs</a>”. PaPoC 2020.</li>
  <li><strong>Move operation in CRDT trees:</strong> Martin Kleppmann, Dominic P. Mulligan, Victor B. F. Gomes, and Alastair R. Beresford:
“<a href="/papers/move-op.pdf">A highly-available move operation for replicated trees and distributed filesystems</a>”.
Preprint, 2020.</li>
  <li><strong>Reducing metadata overhead:</strong> Martin Kleppmann:
“<a href="https://github.com/automerge/automerge-perf/blob/master/columnar/README.md">Experiment: columnar data encoding for Automerge</a>”, 2019.
Also: “<a href="https://github.com/automerge/automerge/pull/253">Preview: Automerge binary data format (Automerge PR #253)</a>”, 2020.</li>
  <li><strong>Local-first software:</strong> Martin Kleppmann, Adam Wiggins, Peter van Hardenberg, and Mark McGranaghan:
“<a href="https://www.inkandswitch.com/local-first.html">Local-first software: You own your data, in spite of the cloud</a>”. Onward! 2019.</li>
</ul>

            </div>

            <div id="sidebar">
                <div id="carrington-subscribe" class="widget">
    <h2 class="widget-title">Subscribe</h2>
    <a class="feed" title="RSS 2.0 feed for posts" rel="alternate" href="http://feeds.feedburner.com/martinkl">
        Site <acronym title="Really Simple Syndication">RSS</acronym> feed
    </a>

    <div class="mailing-list-signup">
        <p>
            To find out when I write something new, sign up to receive an
            <a href="https://martinkl.substack.com/">email notification</a>,
            <a href="https://twitter.com/martinkl">follow me on Twitter</a>, or subscribe to the
            <a href="http://feeds.feedburner.com/martinkl">RSS feed</a>.
        </p>

        <p class="disclaimer">
            I won't give your email address to anyone else, won't send you any spam,
            and you can unsubscribe at any time.
        </p>
    </div>
</div>

<div id="primary-sidebar">
    <div id="book-promo" class="widget">
        <h2 class="title">My book</h2>
        <p><a href="http://dataintensive.net" target="_top"><img src="/images/book-cover-small.png" border="0" alt="Designing Data-Intensive Applications" width="180" height="236"/></a></p>
        <p>My book,
        <a href="http://dataintensive.net"><em>Designing Data-Intensive Applications</em></a>, has received
        <a href="https://www.goodreads.com/book/show/23466395-designing-data-intensive-applications">thousands</a>
        of five-star reviews.</p>
    </div>

    <div class="widget">
        <p>I am a researcher at the
        <a href="http://www.cl.cam.ac.uk/">University of Cambridge</a>,
        working on the <a href="http://www.trvedata.org/">TRVE DATA</a> project
        at the intersection of databases, distributed systems, and information security.</p>
    </div>

    <div class="widget">
        <p>If you find my work useful, please
        <a href="https://www.patreon.com/martinkl">support me on Patreon</a>.
    </div>

    <div id="tweets" class="widget">
        <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/martinkl" data-widget-id="557543934298423296">Tweets by @martinkl</a>
    </div>
</div>

                





<div id="secondary-sidebar">
    <div class="widget">
        <h2 class="title">Recent posts</h2>
        <ul>
            
              <li>23 Feb 2021: <a href="/2021/02/23/patreon.html">Building the future of computing, with your help</a></li>
            
              <li>13 Jan 2021: <a href="/2021/01/13/decentralised-content-moderation.html">Decentralised content moderation</a></li>
            
              <li>02 Dec 2020: <a href="/2020/12/02/bloom-filter-hash-graph-sync.html">Using Bloom filters to efficiently synchronise hash graphs</a></li>
            
              <li>18 Nov 2020: <a href="/2020/11/18/distributed-systems-and-elliptic-curves.html">New courses on distributed systems and elliptic curve cryptography</a></li>
            
              <li>29 Sep 2020: <a href="/2020/09/29/is-book-writing-worth-it.html">Writing a book: is it worth it?</a></li>
            
            <li><a href="/archive.html">Full archive</a></li>
        </ul>
    </div>

    <div class="widget">
        <h2 class="title">Conference talks</h2>
        <ul>
            
              <li><a href="/2021/06/04/craft-conf.html">04 Jun 2021 at Craft Conference</a></li>
            
              <li><a href="/2021/05/04/philly-ete.html">04 May 2021 at Emerging Technologies for the Enterprise (ETE)</a></li>
            
              <li><a href="/2020/07/06/crdt-hard-parts-hydra.html">06 Jul 2020 at Hydra distributed computing conference</a></li>
            
              <li><a href="/2020/04/27/papoc-list-move.html">27 Apr 2020 at 7th Workshop on Principles and Practice of Consistency for Distributed Data (PaPoC)</a></li>
            
              <li><a href="/2019/11/08/code-mesh-isabelle.html">08 Nov 2019 at Code Mesh</a></li>
            
            <li><a href="/talks.html">Full archive</a></li>
        </ul>
    </div>
</div>

            </div>
        </div>

        <hr class="divider" />

<div id="footer">
    <div class="wrapper">
        <p id="generator-link">
            <a rel="license" href="http://creativecommons.org/licenses/by/3.0/"
                style="float: left; padding: 0.3em 1em 0 0;"><img alt="Creative Commons License"
                src="/images/creative-commons.png" width="88" height="31" /></a>
            Unless otherwise specified, all content on this site is licensed under a
            <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
                Attribution 3.0 Unported License</a>.
            Theme borrowed from
            <span id="theme-link"><a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a></span>,
            ported to <a href="https://github.com/mojombo/jekyll">Jekyll</a> by Martin Kleppmann.
        </p>
    </div>
</div>

    </div>

    <!-- Twitter -->
<script>
!function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
        p = /^http:/.test(d.location) ? 'http' : 'https';
    if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src = p + "://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js,fjs);
    }
}(document,"script","twitter-wjs");
</script>

</body>
</html>
