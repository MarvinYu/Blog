<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://gmpg.org/xfn/11">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Ruby on Rails vs. Java Enterprise &mdash; Martin Kleppmann&lsquo;s blog</title>
    <link rel="stylesheet" type="text/css" media="screen, print, handheld" href="/css/typography.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/style.css" />
<link rel="stylesheet" type="text/css" media="all" href="/css/pygments-default.css" />
<!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/ie.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

</head>

<body class="wordpress">
    <div id="page">
        <p id="top">
    <a id="to-content" href="#content" title="Skip to content">Skip to content</a>
</p>

<div id="header">
    <div class="wrapper">
        <strong id="blog-title">
            <a href="/" title="Home" rel="home">Martin Kleppmann</a>
        </strong>
        <p id="blog-description">Entrepreneurship, web technology and the user experience</p>
    </div>
</div>

<div id="sub-header">
    <div class="wrapper">
        <div id="navigation">
            <ul>
                <li class="page_item"><a href="/contact.html" title="Contact/Copyright">Contact/Copyright</a></li>
            </ul>
        </div>
    </div>
</div>

<hr class="divider">

<div class="wrapper">

        <div id="content">
            <h1>Ruby on Rails vs. Java Enterprise</h1>
            <p>Choosing a web application framework. Aaaaargh, the pain.</p>

<p>Ok, so we&#8217;re actually in a pretty lucky situation right now: We have a new, substantial web development project, which we&#8217;re designing from scratch. It&#8217;s for a feature-rich, complex web application, it has got to scale well, and it has got to be maintainable. Those are the core requirements, and I thought they didn&#8217;t sound too demanding really. Between us in the team we have experience in most of today&#8217;s common programming languages, so that wasn&#8217;t an important point; what we wanted was the web framework which was <strong>objectively the best</strong> given our requirements.</p>

<p>Most frameworks, it seemed, were essentially suitable only for toy projects. There is a particularly ridiculous number of open-source web frameworks, and most of them don&#8217;t appear to be widely used in real-world situations. When I say real world, I don&#8217;t mean your average blog about kittens; I mean a site with at least <strong>100 million page views per month</strong> or so. And I wanted the framework to be reasonably widely used, so that other people will have found the fatal bugs and already fixed them before we come along.</p>

<p>This left me with three options which seemed to me to be worth taking seriously:</p>

<ul>
<li>Java Platform Enterprise Edition (JEE)</li>

<li>Ruby on Rails</li>

<li>Microsoft ASP.NET</li>
</ul>

<p>Of course there are plenty more (Django came into consideration, for example) but judging by the contents of the computer section of my local book shop, those others must be pretty niche. Although ASP.NET looks like a reasonably well-designed platform I had to unfortunately exclude it straight away, because I don&#8217;t want the risk of being locked into a Microsoft platform (and I&#8217;m not yet sure how reliable Mono is).</p>

<p>So the showdown is between <strong>Java Enterprise</strong> and <strong>Ruby on Rails</strong>, and the contenders could hardly differ more in terms of their culture. In a nutshell, Ruby on Rails focuses on fast and agile development, while Java Enterprise focuses on flexibility and integration with enterprise IT. In Ruby on Rails, the common tasks are made very very simple, and if you stick within those common tasks, life as a developer is bliss; in Java Enterprise, even the simplest jobs require you to write ugly XML configuration or auto-generate boilerplate code. Ruby on Rails is what you&#8217;ll find on the servers of a cool young Web 2.0 start-up; Java Enterprise is found in the IT nerve-centres of investment banks. In a completely clichéd world view, Ruby on Rails hackers wear Jeans and T-Shirt, have a MacBook and a Linux server, and have a lot of fun; while Java Enterprise software engineers wear suits, have a Windows laptop and a Solaris server, and act very seriously. (I exaggerate.)</p>

<p>The instinctive tendency here is obviously to go with the fun, informal start-up types than with the boring corporate types. But wait, I was trying to make an objective decision, and the discussions about these platforms are already quasi-religious and emotional enough.</p>

<p>I have tried to come up with a list of criteria by which I want to judge these to frameworks. One by one, in no particular order:</p>

<ul>
<li><strong>Developer productivity and learning curve for new developers.</strong> Ruby on Rails will get you started quicker, there&#8217;s not much doubt about that. In Java, I think the worst problem for a newcomer is actually the massive choice of different libraries to use and different ways to do the same thing &#8211; there doesn&#8217;t appear to be any combination of libraries which is particularly widely used; instead every tutorial, every manual and every book you find will use a different combination of technologies and libraries, which makes it particularly hard to learn the first steps. Because there isn&#8217;t just one obviously right way of doing something in Java EE, developers can spend a lot of time sorting out niggling little details, which slows them down and can be demotivating. I believe that if there was a full standard distribution for Java EE (e.g. Icefaces+JSF+Seam+EJB3+JPA+Hibernate+Glassfish, to name just one possible API stack out of thousands of different combinations), people would write a lot more good documentation for that particular stack, and it would become a lot easier for more developers to start using it effectively. With the right tools and good documentation, productivity could potentially be about the same for Rails and Java, but at the moment Java is shooting itself in the foot in this regard.</li>

<li><strong>Ease of recruiting good and motivated developers.</strong> I&#8217;ve not yet worked out how the two frameworks compare in this point. There are not many people who know Ruby, but those two do tend to be pretty passionate about it, so there&#8217;s an increased chance they will do a good job. Just about every computer science student learns Java these days (except at a few misguided institutions where they still teach C++), so there are plenty of Java developers around, although it&#8217;s not clear how many of them are actually really good.</li>

<li><strong>Standardisation of platform.</strong> This point is a combination of the last two points. If a lot of people use a platform, it is likely to be more stable, less buggy, better documented, better designed, faster, more supported in the long term, more interoperable with other systems, and so on. However, you can&#8217;t just judge by number of users &#8211; so many developers worldwide use plain PHP, the poor souls, and probably don&#8217;t even realise that although their LAMP platform is a quasi-standard, it&#8217;s complete rubbish for developing non-trivial applications.</li>

<li><strong>Manageability of a complex code base.</strong> This is the point where I personally really appreciate statically typed programming languages (call me old-fashioned). With Java in Eclipse, you can immediately search for the place where something is defined, you can refactor class and method names without too much fear (except when you use Java names in XML files), you get decent code completion, you know at compile-time which methods an object has (rather than calling something speculatively which may or may not be there), and so on. Dynamically typed scripting languages are great for prototyping and writing things quickly, but I find they start getting a bit scary and tricky to handle once you go past a few thousand lines of code.</li>

<li><strong>Testability and robustness</strong> &#8211; i.e. &#8220;if I change something here, how likely is it that I will break something at the other end of the application?&#8221;. Fortunately, both frameworks offer reasonable support for automated regression testing; Ruby on Rails probably a bit more so, because it relies primarily on automated tests (rather than a type system) to ensure things don&#8217;t fall apart horribly.</li>

<li><strong>Scalability, stability and reliability.</strong> This is a pretty important one, since any outage immediately gives a very bad impression to your users, and can potentially cost a lot of money. However, it&#8217;s hard to get hold of accurate reports on how well the frameworks behave in a harsh production environment, with a large number of concurrent users (hundreds of page views per second) and a large database. I&#8217;m inclined to attribute better stability to Java because it&#8217;s almost certainly used in corporates for more critical applications than Ruby is. Ruby on Rails, on the other hand, has <a href='http://www.techcrunch.com/2008/05/01/twitter-said-to-be-abandoning-ruby-on-rails/'>had some pretty bad press</a> concerning its scalability. The biggest RoR deployment at the moment is apparently <a href='http://www.yellowpages.com/'>Yellow Pages</a>; rather embarrassingly for both them and for Rails, this site has actually been down for at least the last 12 hours as I write this post.</li>

<li><strong>Internationalisation and Unicode.</strong> There are translation features in both frameworks, and they are both ok, although none really strikes me as brilliant. The bigger issue is with Unicode support. I agree fully with <a href='http://www.joelonsoftware.com/articles/Unicode.html'>Joel Spolsky&#8217;s opinions in this matter</a> &#8211; there is no such thing as 8-bit plain text. And yet, I could hardly believe my eyes, <a href='http://wiki.rubyonrails.org/rails/pages/HowToUseUnicodeStrings'>Ruby treats strings just as an array of bytes</a>, 8 bits per character, unspecified encoding. You can put UTF-8 in them, but then the standard string editing methods will rip them up and make them invalid. For heaven&#8217;s sake, guys, we live in the 21st century! Do you not want to sell your software worldwide or what? Ok, there are some UTF-8-safe methods, but you&#8217;ve got to remember to call them explicitly. At least Java encourages you to specify an encoding when you convert between byte streams and strings (although in my opinion it still isn&#8217;t radical enough &#8211; all conversion methods without an explicit charset parameter ought to be marked as deprecated, to make it really clear to the developer what they are doing).</li>

<li><strong>Toolchain support.</strong> Java has been around for a long time, and some pretty powerful tools to support it have evolved in that time (we are using the commercial <a href='http://www.myeclipseide.com/'>MyEclipse</a> and it&#8217;s doing a good job for us). Ruby on Rails is younger, but is actually quite well supported too due to its active developer community &#8211; <a href='http://www.aptana.com/rails/'>Aptana</a> is pretty neat, for example.</li>

<li><strong>Libraries for additional functionality.</strong> Since Java is so common, libraries for it are also very common &#8211; pretty much whatever you want to do, you can download a jar file to do it for you. With Ruby we&#8217;re not that far yet, but more and more libraries are being ported, so this is not likely to be a very limiting factor.</li>

<li><strong>Ease of integration with back end.</strong> We&#8217;ve got some algorithmic, number-crunching applications running in the background handling all the really clever technology. These are written in Java, and the web framework has got to be able to communicate with them. If the web tier is also in Java, that is easy; if it&#8217;s not, we have to write an explicit interface, but it&#8217;s not the end of the world either.</li>

<li><strong>Integrating with and impression on customers.</strong> Who&#8217;s your customer? If your application is targeted at general consumers who will use it over the web, they don&#8217;t care what framework you use as long as it works well. However, if the software is actually going to be licensed to an enterprise where the IT department have to integrate it with their own systems, then the technology matters. Not so much because of real difficulties (most integrations probably happen on the database level anyway, so the application server is pretty irrelevant) but because they are going to ask you what technology you use; if it&#8217;s different from what they use themselves, they will suspect that it&#8217;s going to be more effort to integrate, which might become their excuse not to buy from you.</li>

<li><strong>Long-term support.</strong> In 3&#8211;5 years&#8217; time, what will have happened to the software? It may be that our application is still running, but will we still get security updates and bugfixes for the framework? Will somebody come along and completely re-write the API so that we in turn have to invest a lot in porting the application to the new API, or else risk running on an unsupported platform? This is crystal ball gazing of course, but to be honest: Java Enterprise is backed by Sun, and if there is one thing which big corporations tend to be good at, it&#8217;s <em>keeping things the way they are</em>. With Rails I fear more about the changeability of the framework over time. That said, the move from J2EE 1.4 to JEE 5 (two years ago today, incidentally) was pretty major, so maybe they are both equally changeable.</li>
</ul>

<p>After all those points I&#8217;d like to finish off with a few things which I would rather <strong>not</strong> have:</p>

<ul>
<li><strong>Too much flexibility in combining technologies.</strong> Abstract APIs create an illusion of portability &#8211; ok, so you think you can replace your PostgreSQL with Oracle by changing one line in an XML configuration file. Really? Not even subtle differences in query semantics? And how often are you going to make such a major change to the system like changing your database server? I don&#8217;t think it&#8217;s exactly such a common case that it has to be optimised for. It&#8217;s not bad to have those APIs, but they don&#8217;t add as much value as you might think at first. And as I mentioned above, having too much choice about the components from which you can assemble your system implies a lack of useful documentation and a slower learning curve for new developers.</li>

<li><strong>Boilerplate and duplicate code.</strong> You can create it with a code generation tool, with a bit of luck you can even keep it up-to-date with that tool, but it&#8217;s still extremely ugly and makes things harder to maintain. The main advantage of scripting languages in my mind is that things like database model objects are defined at runtime rather than compile-time, eliminating all that generated code. However, you then lose the static type system, so you can&#8217;t win on this one.</li>
</ul>

<p>So where does that leave us? Do you have any further aspects or information which we should consider, or any specific experience with these technologies? Let us know by the comments below.</p>

            <div id="disqus_thread"></div>
        </div>
            <div id="sidebar">
        <div id="carrington-about" class="widget">
            <div class="about">
                <h2 class="title">About Martin Kleppmann</h2>

                <p>Hello! I'm Martin Kleppmann, entrepreneur and software craftsman in
                <a href="http://en.wikipedia.org/wiki/San_Francisco">San Francisco</a> (previously in
                <a href="http://en.wikipedia.org/wiki/Cambridge">Cambridge, UK</a>). I care about
                making stuff that people want, great people and culture, the web and its future,
                marvellous user experiences, maintainable code and scalable architecture.</p>

                <p>I am co-founder of <a href="http://rapportive.com/">Rapportive</a>, together with
                <a href="http://www.samstokes.co.uk/">Sam Stokes</a> and
                <a href="http://twitter.com/rahulvohra">Rahul Vohra</a>. We make a nifty tool which
                gives you profiles about your contacts right inside Gmail. Previously I founded Go Test It
                (<a href="http://go-test.it/blog/2009/11/30/red-gate-acquires-go-test-it.html">acquired</a> by
                <a href="http://www.red-gate.com/">Red Gate Software</a> in 2009).</p>

                <p>I'd love to hear from you, so please leave comments, or feel free to
                <a href="/contact.html">contact me directly</a>.</p>
            </div>
        </div>


        <div id="primary-sidebar">
        </div>

        <div id="secondary-sidebar">
            <div id="carrington-archives" class="widget">
                <h2 class="title">Recent posts</h2>
                <ul>
                    
                      <li>21 Dec 2010: <a href="/2010/12/21/having-a-launched-product-is-hard.html">Having a launched product is hard</a></li>
                    
                      <li>30 Oct 2010: <a href="/2010/10/30/intuition-has-no-transfer-encoding.html">Intuition has no transfer encoding</a></li>
                    
                      <li>31 Aug 2010: <a href="/2010/08/31/good-things-are-hard-to-articulate.html">Good things are hard to articulate</a></li>
                    
                      <li>05 May 2010: <a href="/2010/05/05/valuation-caps-on-convertible-notes-explained-with-graphs.html">Valuation caps on convertible notes, explained with graphs</a></li>
                    
                      <li>09 Apr 2010: <a href="/2010/04/09/our-social-future.html">Our social future</a></li>
                    
                    <li><a href="/archive.html">Full archive</a></li>
                </ul>
            </div>
        </div>
    </div>
</div> <!-- div.wrapper, started in 'before.html' -->

<hr class="divider" />

<div id="footer">
    <div class="wrapper">        
        <p id="generator-link">
            Theme borrowed from
            <span id="theme-link"><a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a></span>,
            ported to Jekyll by Martin Kleppmann.
        </p>
    </div>
</div>

    </div>

    <script type="text/javascript">
        var disqus_shortname = 'martinkl';
        var disqus_url = 'http://martin.kleppmann.com/2008/05/11/ruby-on-rails-vs-java-enterprise.html';
        var disqus_identifier = disqus_url;

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-7958895-1");
        pageTracker._trackPageview();
    } catch (err) {}
</script>

</body>
</html>
